{"mappings":"AAAA,MAAMA,UAAYC,EAAE,aACdC,QAAUF,UAAUG,KAAK,WACzBC,EAAIC,aAAaC,QAAQ,KAGzBC,QAAUC,KAAKC,MAAML,GACrBM,QAAUH,SAAS,CACrB,CAAEI,KAAM,IAAKC,IAAI,yBACjB,CAAED,KAAM,IAAKC,IAAK,6BAClB,CAAED,KAAM,IAAKC,IAAI,4BAEfC,YAAeD,GACVA,EAAIE,QAAQ,WAAY,IAC1BA,QAAQ,QAAS,IACjBA,QAAQ,OAAQ,IAChBA,QAAO,OAAQ,IAElBC,KAAOd,EAAE,QACfc,KAAKC,GAAG,YAAaC,IACjBA,EAAEC,qBAEN,IAAIC,IAAMC,SAASC,cAAc,QAC7BC,IAAMF,SAASC,cAAc,QAC7BE,KAAO,EACXJ,IAAIK,UAAS,EACbF,IAAIG,QAAU,WACQ,KAAdH,IAAII,OACRH,KAAO,EACPJ,IAAIK,UAAS,IAEbD,KAAO,EACPJ,IAAIK,UAAS,IAGjBF,IAAIK,QAAU,WACQ,KAAdL,IAAII,OACRH,KAAO,EACPJ,IAAIK,UAAS,IAEbD,KAAO,EACPJ,IAAIK,UAAS,IAIjB,MAAMI,OAAS,KACX5B,UAAUG,KAAK,iBAAiB0B,SAChCnB,QAAQoB,SAAQ,CAACC,EAAMC,KAEvB,MAAMC,EAAMhC,EAAE,6FAYe8B,EAAApB,yDACvBE,YAAAkB,EAAAnB,uTAKJI,GAAA,SAAA,KACJkB,OAAAC,KAAAJ,EAAAnB,QAEMqB,EAAAjB,GAAA,QAAA,UAAAC,IACNA,EAAYC,kBAEFR,QAAQ0B,OAAOJ,EAAI,GAGnBJ,yBAMZ3B,EAAA,cAAOe,GAAA,SAAoB,KACvB,IAAAJ,EAAAyB,OAAA,eACoB,IAARzB,EAAN0B,QAAS,UAAe1B,EAAO,WAACA,iBAEPD,KAAAE,YAAAD,GAAA2B,cAAA,GACnC3B,IAAAA,IAEIgB,mBAEAY,eAAoB","sources":["src/main.js"],"sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst x = localStorage.getItem('x')  //把localStorage内存的东西读出来\r\n// console.log(x);\r\n//先尝试读取当前网站下的x，如果x能成功变成对象，就把对象放到hashmap里面，不行的话就初始化为默认的数组（一开始定义好的）\r\nconst xObject = JSON.parse(x)\r\nconst hashMap = xObject||[ //xObject存在就使用，不存在就用默认值先\r\n    { logo: 'A', url:'https://www.acfun.cn/' },\r\n    { logo: 'B', url: 'https://www.bilibili.com/' },\r\n    { logo: 'T', url:'https://www.taobao.com/'},\r\n]\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http:', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/,'')//删除/开头的内容直到结尾\r\n}\r\nconst $inp = $('#inp')\r\n$inp.on('keypress', (e) => { //阻止input输入时冒泡\r\n    e.stopPropagation()\r\n})\r\nlet btn = document.querySelector('#btn') //获取按钮\r\nlet inp = document.querySelector('#inp') //获取文本框\r\nlet flag = 0\r\nbtn.disabled=true\r\ninp.onfocus = function () {\r\n    if (inp.value === '') {\r\n    flag = 0\r\n    btn.disabled=true\r\n} else {\r\n    flag = 1\r\n    btn.disabled=false\r\n}\r\n}\r\ninp.oninput = function () {\r\n    if (inp.value === '') {\r\n    flag = 0\r\n    btn.disabled=true\r\n} else {\r\n    flag = 1\r\n    btn.disabled=false\r\n    }  \r\n}\r\n\r\nconst render = () => { //渲染hashmap时先把之前的li全部删掉再重新渲染\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => { //遍历hashmap，生成li\r\n        // console.log(index)\r\n    const $li = $(`<li>  \r\n                    <div class=\"site\">\r\n                        <div class=\"logo\">${node.logo}</div>\r\n                        <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                        <div class=\"close\">\r\n                          <svg class=\"icon\">\r\n                            <use xlink:href=\"#icon-shanchu\"></use>\r\n                          </svg>\r\n                        </div>         \r\n                    </div>\r\n    </li>`).insertBefore($lastLi)\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation() //删除按钮阻止冒泡\r\n            hashMap.splice(index, 1) //删除被索引的下标元素\r\n            render() //重新渲染页面\r\n    })\r\n})\r\n}\r\nrender()\r\n$('.addButton').on('click', () => {\r\n    let url = prompt('请输入您需要添加的网址')\r\n    if (url.indexOf('http')!==0) {\r\n        url='https://'+url  //https的网址更安全\r\n    }\r\n    hashMap.push({ //先render，然后push，再render\r\n        logo: simplifyUrl(url).toUpperCase()[0],\r\n        url:url\r\n    })\r\n    render()\r\n})\r\nwindow.onbeforeunload=()=> { //关闭页面时在这个函数里把hashmap存下来\r\n    // console.log('页面即将关闭')\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x',string) //在本地存储里面设置一个key为x，它的值为string\r\n}\r\n//键盘事件\r\n$(document).on('keypress', (e) => { //键盘按下事件\r\n    // console.log('你按下了键盘');\r\n    const { key } = e\r\n    for (let i = 0; i < hashMap.length; i++){\r\n        if (hashMap[i].logo.toLowerCase() === key) {\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n}) "],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","$inp","on","e","stopPropagation","btn","document","querySelector","inp","flag","disabled","onfocus","value","oninput","render","remove","forEach","node","index","$li","window","open","splice","prompt","indexOf","toUpperCase","onbeforeunload"],"version":3,"file":"index.5813c4ce.js.map"}